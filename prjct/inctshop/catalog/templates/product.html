{% extends "base_non.html" %}
{% block content %}
<div class="container-fluid">
    <div class="row" style="background-color: #FFF; border-radius: 15px; padding: 15px; margin-right: 5px; padding-right: 50px;">
        <div class="row" style="display: flex; max-width: 100%; margin-right: 50px;">
            <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4" style="margin-right: 10px; padding-right: 25px;">
                <img src="static/images/{{ product.product_photo }}" style="width: calc(60% + 160px); border-radius: 5px; box-shadow: 0 0 2rem rgba(0, 0, 0, 0.2); box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.4);">
            </div>
            <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4" style="padding-top: 30px;">
                <div style="display: flex;">
                    <div style="max-width: 500px; width: calc(60% + 160px); background-color: #E8E8E8; border-radius: 5px; padding: 10px;">
                    <h2 style="font-weight: 700; color: #2D2D2D;">{{ product.product_name }}</h2>
                    </div>
                </div>
                <div style="max-width: 500px; width: calc(60% + 160px); background-color: #E8E8E8; border-radius: 5px; margin-top: 20px; padding: 20px;">
                    <h4 style="margin-bottom: 20px;">Parametrs</h4>
                    <div style="display: flex;">
                        <p style="margin-right: 50px;">Material:</p>
                        <p style="">{{ product.product_material.material_name }}</p>
                    </div>
                    <div style="display: flex;">
                        <p style="margin-right: 50px;">Brand:</p>
                        <p style="">{{ product.product_brand.brand_name }}</p>
                    </div>
                    <div style="display: flex;">
                        <p style="margin-right: 50px;">Color:</p>
                        <p style="">{{ product.product_color.color_name }}</p>
                    </div>
                    <div style="display: flex;">
                        <p style="margin-right: 50px;">Size:</p>
                        <p style="">{{ product.product_size.size_name }}</p>
                    </div>
                </div>
                <div style="max-width: 500px; width: calc(60% + 160px); background-color: #E8E8E8; border-radius: 5px; margin-top: 20px; padding: 10px;">
                    <div style="display: flex; padding-top: 10px;">
                        <p style="margin-left: 20px; margin-right: 20%; font-size: 35px; font-weight: 600;">{{ product.product_price }}$</p>
                        <div class="d-xl-block d-lg-none d-none" style="margin-right: 70px;"></div>
                        <form action="" method="POST">
                        {% csrf_token %}
                            <button type="submit" name="mybtn" value="{{product.product_number}}" style="font-family: 'Montserrat', sans-serif; font-size: 28px; color: #FFF; font-weight: 700; border-radius: 15px; width: 150px; height: 50px; border: none; background-color: #000; box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.5), 0px 0px 16px rgba(0, 0, 0, 0.2);">Buy</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-3 col-xl-3" style="margin-top: 30px; max-width: 500px; width: calc(8% + 283px); height: 453px; background-color: #E8E8E8; border-radius: 5px; margin-left: 13px;">
                <div style="padding-top: 20px;">
                    <div style="border: 3px solid #BBBBBB; border-radius: 6px; width: 100%; height: 70px; padding: 10px; display: flex;  padding-right: 50px;">
                    <img src="static/images/delivery.svg" style="width: 60px; margin-right: 10px;">
                    <h6 style="padding-top: 5px; color: #BBB;">
                        Free delivery on orders 3 pieces</h6>
                    </div>
                </div>
                <div style="padding-top: 20px;">
                    <div style="border: 3px solid #BBBBBB; border-radius: 6px; width: 100%; height: 70px; padding: 10px; display: flex;">
                    <img src="static/images/stock.svg" style="width: 60px; margin-right: 10px;">
                    <h6 style="padding-top: 10px; color: #BBB;">
                        In stock right now</h6>
                    </div>
                </div>
                <div style="padding-top: 20px;">
                    <div style="border: 3px solid #BBBBBB; border-radius: 6px; width: 100%; height: 70px; padding: 10px; display: flex;">
                    <img src="static/images/question.svg" style="width: 60px; margin-right: 10px;">
                    <h6 style="padding-top: 3px; color: #BBB;">
                        In case of an error on the page, write in the form below</h6>
                    </div>
                </div>
                <div style="padding-top: 15px;">
                    <form action="" method="POST">
                    {% csrf_token %}
                        <input type="text" name="error" value="" style="border: 3px solid #BBBBBB; border-radius: 6px; width: 100%; padding-bottom: 70px;" placeholder="Describe the problem">
                        <div style="display: flex;">
                        <div class="d-xl-block d-lg-none d-none" style="padding-left: 46px;"></div>
                        <div style="padding-top: 10px;">
                            <button type="submit" name="order" value="{{product.product_number}}" style="font-family: 'Montserrat', sans-serif; font-size: 24px; color: #E8E8E8; font-weight: 700; border-radius: 10px; width: calc(8% + 257px); height: 40px; border: none; background-color: #BBB;">Report</button>
                        </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-2 col-xl-2" style="padding-top: 50px; width: 100%;">
                <h4 style="margin-bottom: 20px; ">Detail</h4>
                <p>{{ product.product_detail }}</p>
            </div>
        </div>
    </div>
    <div class="row" style="background-color: #FFF; margin-top: 20px; border-radius: 15px; padding: 15px; margin-bottom: 50px; margin-right: 5px;">
        <div class="row" style="display: flex; margin-bottom: 15px;">
            {% if user.is_authenticated %}
                <form action="" method="POST" class="col-sm-12 col-md-12 col-lg-3 col-xl-3">
                {% csrf_token %}
                    <input type="text" name="review_text" value="" style="border: 3px solid #BBBBBB; border-radius: 6px; width: calc(8% + 270px); padding-bottom: 70px; margin-bottom: 10px;" placeholder="Write your review">
                    <button type="submit" name="review" value="{{product.product_number.product_number }}" style="font-family: 'Montserrat', sans-serif; font-size: 23px; color: #E8E8E8; font-weight: 700; border-radius: 10px; width: calc(8% + 270px); height: 40px; border: none; background-color: #BBB; margin-bottom: 10px;">give feedback</button>
                </form>
            <div class="col-sm-12 col-md-12 col-lg-3 col-xl-3" style="padding: 15px; border: 3px solid #BBBBBB; border-radius: 10px; margin-left: 15px; width: calc(8% + 270px);">
                <h5 style="color: #A3A3A3;">When writing a review, try to avoid false information and follow the rules of decency</h5>
                <p style="color: #BBBBBB;">all reviews that comply with the rules of healthy communication will be moderated</p>
            </div>
            {% endif %}
        </div>
        <div>
            {% for review in reviews %}
                {% if product.product_number.product_number == review.reviews_product.product_number %}
                    <div class="col-sm-12 col-md-12 col-lg-3 col-xl-3" style="display: flex; background-color: #E8E8E8; padding: 15px; margin-bottom: 15px; border-radius: 10px; width: 100%;">
                        
                        <div style="display: inline-block;">
                            <img src="static/images/profile_fill.svg" style="margin-bottom: 5px;">
                        <h5>{{ review.reviews_username }}</h5>
                        <p>{{ review.reviews_text }}</p>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}